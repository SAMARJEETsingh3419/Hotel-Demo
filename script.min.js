const themeToggleDesktop=document.getElementById("theme-toggle-desktop"),themeToggleMobile=document.getElementById("theme-toggle-mobile"),themeToggles=[themeToggleDesktop,themeToggleMobile].filter(Boolean);function setTheme(e){document.body.classList.toggle("dark",e),themeToggles.forEach(t=>{const n=t.querySelector(".theme-icon");n&&(n.textContent=e?"☀":"☽")}),localStorage.setItem("theme",e?"dark":"light")}const savedTheme=localStorage.getItem("theme");setTheme("dark"===savedTheme),themeToggles.forEach(e=>{e.addEventListener("click",()=>{setTheme(!document.body.classList.contains("dark"))})}),function(){const e=document.querySelectorAll(".gallery-slide"),t=document.querySelector(".gallery-arrow-left"),n=document.querySelector(".gallery-arrow-right");let o=0;function c(t){e.forEach((e,n)=>{e.classList.toggle("active",n===t)})}function s(){o=(o-1+e.length)%e.length,c(o)}function i(){o=(o+1)%e.length,c(o)}t&&n&&e.length>1&&(t.addEventListener("click",s),n.addEventListener("click",i));let r=null;const l=document.querySelector(".gallery-slide-wrapper");l&&(l.addEventListener("touchstart",e=>{r=e.touches[0].clientX}),l.addEventListener("touchend",e=>{if(null===r)return;const t=e.changedTouches[0].clientX-r;t>40?s():t<-40&&i(),r=null}))}(),function(){const e=document.querySelector(".site-cover"),t=document.querySelector(".site-cover-arrow-btn");if(!e||!t)return;let n=!1;function o(){n||(n=!0,e.classList.add("slide-up"),setTimeout(()=>{e.remove()},1100))}t.addEventListener("click",o),t.addEventListener("touchstart",o),window.addEventListener("keydown",function(e){"ArrowUp"===e.key&&o()})}(),function(){const e=document.querySelector(".site-header"),t=e?e.offsetHeight:0;document.querySelectorAll(".main-nav a").forEach(e=>{e.addEventListener("click",function(e){const n=this.getAttribute("href");if(n&&n.startsWith("#")){const o=document.querySelector(n);if(o){e.preventDefault();const n=o.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}}})})}(),function(){const e=document.getElementById("navbarToggler"),t=document.getElementById("mobileNav"),n=document.querySelector(".site-header");function o(){return n.classList.contains("header-solid")}function c(){t.classList.remove("open"),!o()&&window.innerWidth<=900&&n.classList.remove("header-menu-open")}e&&t&&n&&(e.addEventListener("click",function(){t.classList.contains("open")?c():(t.classList.add("open"),!o()&&window.innerWidth<=900&&n.classList.add("header-menu-open"))}),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",c)}),window.addEventListener("resize",function(){window.innerWidth>900&&c()}))}(),function(){const e=document.querySelector(".hero"),t=document.querySelector(".hero-content"),n=document.querySelector(".site-header"),o=document.getElementById("mobileNav");if(!e||!t||!n)return;let c=!1;function s(){c||(window.requestAnimationFrame(()=>{const s=e.getBoundingClientRect();s.top<-40?t.classList.add("hero-slide-up"):t.classList.remove("hero-slide-up");const i=.25*e.offsetHeight;s.top<=-i?(n.classList.add("header-solid"),n.classList.remove("header-menu-open")):(n.classList.remove("header-solid"),o&&o.classList.contains("open")&&window.innerWidth<=900?n.classList.add("header-menu-open"):n.classList.remove("header-menu-open")),c=!1}),c=!0)}window.addEventListener("scroll",s),s()}();